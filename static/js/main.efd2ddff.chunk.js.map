{"version":3,"sources":["Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","services/smoothScroll.js","App.js","index.js"],"names":["SearchBar","onSubmit","className","e","preventDefault","target","elements","searchValue","value","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","item","onClick","largeImageURL","src","webformatURL","alt","ImageGallery","gallery","map","id","Button","modalRoot","document","querySelector","Modal","handleOverlayClick","currentTarget","props","onClose","handleKeyDown","code","window","addEventListener","this","removeEventListener","createPortal","children","Component","smoothScroll","scrollTo","top","documentElement","scrollHeight","behavior","axios","defaults","baseURL","KEY","App","state","page","isModalOpen","reqStatus","largeImgUrl","handleLoadMore","a","get","data","setState","prev","hits","handleSubmit","toggleImg","dataset","large","toggleModal","_","prevState","length","toast","error","autoClose","console","log","galleryLength","color","height","width","timeout","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.efd2ddff.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction SearchBar({ onSubmit }) {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    onSubmit(e.target.elements.searchValue.value);\n  };\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={handleSearch} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          name=\"searchValue\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\n\nfunction ImageGalleryItem({ item, onClick }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        data-large={item.largeImageURL}\n        onClick={onClick}\n        src={item.webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map((item) => (\n        <ImageGalleryItem onClick={onClick} key={item.id} item={item} />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\n\nfunction Button({ onClick }) {\n  return (\n    <button className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div onClick={this.handleOverlayClick} className=\"Overlay\">\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n\n      modalRoot\n    );\n  }\n}\n","export const smoothScroll = () =>\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport SearchBar from \"./Components/SearchBar/SearchBar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal/Modal\";\nimport axios from \"axios\";\nimport { smoothScroll } from \"./services/smoothScroll\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst KEY = \"22496813-a3fbe39786787c712b168fbe4\";\n\nexport default class App extends Component {\n  state = {\n    searchValue: \"\",\n    gallery: [],\n    page: 1,\n    isModalOpen: false,\n    reqStatus: \"idle,\",\n    largeImgUrl: \"\",\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { searchValue, page } = this.state;\n    try {\n      if (prevState.searchValue !== this.state.searchValue) {\n        this.setState({\n          reqStatus: \"pending\",\n          largeImgUrl: \"\",\n        });\n        const { data } = await axios.get(\n          `?q=${searchValue}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n        );\n        if (data.hits.length === 0) {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\",\n            {\n              autoClose: 3000,\n            }\n          );\n        }\n\n        this.setState((prev) => ({\n          reqStatus: \"resolved\",\n          gallery: data.hits,\n          page: prev.page + 1,\n        }));\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  handleLoadMore = async () => {\n    const { data } = await axios.get(\n      `https://pixabay.com/api/?q=${this.state.searchValue}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    );\n\n    this.setState((prev) => ({\n      gallery: [...prev.gallery, ...data.hits],\n      page: prev.page + 1,\n    }));\n    smoothScroll();\n  };\n\n  handleSubmit = (searchValue) => {\n    this.setState({\n      searchValue,\n    });\n  };\n\n  toggleImg = (e) => {\n    this.setState(({ isModalOpen }) => ({\n      isModalOpen: true,\n      largeImgUrl: e.target.dataset.large,\n    }));\n  };\n\n  toggleModal = (e) => {\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const { gallery, reqStatus, isModalOpen, largeImgUrl } = this.state;\n    const galleryLength = gallery.length > 1;\n\n    if (reqStatus === \"pending\") {\n      return (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={10000}\n        />\n      );\n    }\n    return (\n      <div className=\"Container\">\n        <SearchBar onSubmit={this.handleSubmit} />\n        <ImageGallery onClick={this.toggleImg} gallery={gallery} />\n        {galleryLength && <Button onClick={this.handleLoadMore} />}\n        {isModalOpen && (\n          <Modal src={largeImgUrl} onClose={this.toggleModal}>\n            <div style={{ width: 900 }}>\n              <img src={largeImgUrl} alt=\"\" />\n            </div>\n          </Modal>\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}